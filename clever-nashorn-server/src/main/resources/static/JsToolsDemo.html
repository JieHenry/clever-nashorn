<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    function getDate(d) {
        var day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate(),
            month = d.getMonth() < 9 ? '0' + (d.getMonth() + 1) : (d.getMonth() + 1),
            year = d.getFullYear(),
            hour = d.getHours() < 10 ? '0' + d.getHours() : d.getHours(),
            minute = d.getMinutes() < 10 ? '0' + d.getMinutes() : d.getMinutes(),
            second = d.getSeconds() < 10 ? '0' + d.getSeconds() : d.getSeconds(),
            millisecond = d.getMilliseconds() < 10 ? '0' + d.getMilliseconds() : d.getMilliseconds();
        if (millisecond < 100) {
            millisecond = '0' + millisecond;
        }
        return {
            time: (+d),
            year: year,
            month: month,
            day: day,
            hour: hour,
            minute: minute,
            second: second,
            millisecond: millisecond
        };
    }

    function isNumber(value) {
        return Object.prototype.toString.call(value) === '[object Number]';
    }

    function isString(value) {
        return Object.prototype.toString.call(value) === '[object String]';
    }

    function isArray(value) {
        return Object.prototype.toString.call(value) === '[object Array]';
    }

    function isBoolean(value) {
        return Object.prototype.toString.call(value) === '[object Boolean]';
    }

    function isDate(value) {
        return Object.prototype.toString.call(value) === '[object Date]';
    }

    function isUndefined(value) {
        return value === undefined;
    }

    function isNull(value) {
        return value === null;
    }

    function isSymbol(value) {
        return Object.prototype.toString.call(value) === '[object Symbol]';
    }

    function isObject(value) {
        return (
            Object.prototype.toString.call(value) === '[object Object]'
            ||
            // if it isn't a primitive value, then it is a common object
            (
                !isDate(value) &&
                !isNumber(value) &&
                !isString(value) &&
                !isBoolean(value) &&
                !isArray(value) &&
                !isNull(value) &&
                !isFunction(value) &&
                !isUndefined(value) &&
                !isSymbol(value)
            )
        );
    }

    function isFunction(value) {
        return Object.prototype.toString.call(value) === '[object Function]';
    }

    Date.prototype.toJSON = function () {
        var tmp = getDate(this);
        // 2019-08-26 12:15:54
        return tmp.year + "-" + tmp.month + "-" + tmp.day + " " + tmp.hour + ":" + tmp.minute + ":" + tmp.second;
    };

    function stringify(object) {
        if (isNumber(object) || isString(object) || isBoolean(object) || isUndefined(object) || isNull(object)) {
            return object;
        }
        var cache = [];
        var keyCache = [];
        return JSON.stringify(object, function (key, value) {
            if (typeof value === 'object' && value !== null) {
                var index = cache.indexOf(value);
                if (index !== -1) {
                    return "[Circular " + keyCache[index] + "]";
                }
                cache.push(value);
                keyCache.push(key || "root");
            }
            if (value && isFunction(value)) {
                return value.toString();
            }
            return value;
        });
    }

    var fuc = function () { return 1 + 6; };
    var array = [1, 2.2, true, "nashorn", null, new Date(), fuc];
    var object = {"string": "aaa", "number1": 12, "number2": 12.345, "boolean": true, "null": null, "date": new Date(), "fuc": fuc};
    console.log("打印JS变量 | null ", stringify(null), " | 行尾");
    console.log("打印JS变量 | undefined ", stringify(undefined), " | 行尾");
    console.log("打印JS变量 | int ", stringify(1), " | 行尾");
    console.log("打印JS变量 | float ", stringify(2.2), " | 行尾");
    console.log("打印JS变量 | boolean ", stringify(true), " | 行尾");
    console.log("打印JS变量 | string ", stringify("nashorn"), " | 行尾");
    console.log("打印JS变量 | date ", stringify(new Date()), " | 行尾");
    console.log("打印JS变量 | array ", stringify(array), " | 行尾");
    console.log("打印JS变量 | object ", stringify(object), " | 行尾");
    console.log("打印JS变量 | function ", stringify(fuc), " | 行尾");

    // 循环引用
    var a = {"name": "zzz"};
    var b = {"name": "vvv"};
    a.child = b;
    b.parent = a;
    console.log("打印JS变量 | 循环引用 {}", stringify(a));
</script>
</html>