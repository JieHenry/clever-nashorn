/*! split-grid - v1.0.7 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Split=e()}(this,function(){"use strict";var e=function(e,t,i){return t.concat(i).map(function(t){return t.style[e]}).filter(function(t){return void 0!==t&&""!==t})},o=function(r,t){return t.reduce(function(t,e,i){return e.endsWith(r)&&(t[i]=Number(e.slice(0,-1*r.length))),t},{})},a=function(t){for(var e=Object.keys(t),i=0;i<e.length;i+=1)if(0<t[e[i]])return e[i];return null},i=function(i){var t;return(t=[]).concat.apply(t,Array.from(i.ownerDocument.styleSheets).map(function(t){var e=[];try{e=Array.from(t.cssRules||[])}catch(t){}return e})).filter(function(t){var e=!1;try{e=i.matches(t.selectorText)}catch(t){}return e})},h=function(){return!1},r=function(t,e,i){t.style[e]=i},n=function(t,e,i){var r=t[e];return void 0!==r?r:i},c=function(t,e,i){this.direction=t,this.element=e.element,this.track=e.track,this.trackTypes={},"column"===t?(this.gridTemplateProp="grid-template-columns",this.gridGapProp="grid-column-gap",this.cursor=n(i,"columnCursor",n(i,"cursor","col-resize")),this.snapOffset=n(i,"columnSnapOffset",n(i,"snapOffset",30)),this.dragInterval=n(i,"columnDragInterval",n(i,"dragInterval",1)),this.clientAxis="clientX",this.optionStyle=n(i,"gridTemplateColumns")):"row"===t&&(this.gridTemplateProp="grid-template-rows",this.gridGapProp="grid-row-gap",this.cursor=n(i,"rowCursor",n(i,"cursor","row-resize")),this.snapOffset=n(i,"rowSnapOffset",n(i,"snapOffset",30)),this.dragInterval=n(i,"rowDragInterval",n(i,"dragInterval",1)),this.clientAxis="clientY",this.optionStyle=n(i,"gridTemplateRows")),this.onDragStart=n(i,"onDragStart",h),this.onDragEnd=n(i,"onDragEnd",h),this.onDrag=n(i,"onDrag",h),this.writeStyle=n(i,"writeStyle",r),this.startDragging=this.startDragging.bind(this),this.stopDragging=this.stopDragging.bind(this),this.drag=this.drag.bind(this),this.minSizeStart=e.minSizeStart,this.minSizeEnd=e.minSizeEnd,e.element&&(this.element.addEventListener("mousedown",this.startDragging),this.element.addEventListener("touchstart",this.startDragging))};c.prototype.getDimensions=function(){var t=this.grid.getBoundingClientRect(),e=t.width,i=t.height,r=t.top,s=t.bottom,n=t.left,o=t.right;"column"===this.direction?(this.start=r,this.end=s,this.size=i):"row"===this.direction&&(this.start=n,this.end=o,this.size=e)},c.prototype.getSizeAtTrack=function(t,e){return i=t,r=this.computedPixels,s=this.computedGapPixels,n=e?i+1:i,r.slice(0,n).reduce(function(t,e){return t+e},0)+(s?i*s:0);var i,r,s,n},c.prototype.getSizeOfTrack=function(t){return this.computedPixels[t]},c.prototype.getRawTracks=function(){var t=e(this.gridTemplateProp,[this.grid],i(this.grid));if(t.length)return t[0];if(this.optionStyle)return this.optionStyle;throw Error("Unable to determine grid template tracks from styles.")},c.prototype.getGap=function(){var t=e(this.gridGapProp,[this.grid],i(this.grid));return t.length?t[0]:null},c.prototype.getRawComputedTracks=function(){return window.getComputedStyle(this.grid)[this.gridTemplateProp]},c.prototype.getRawComputedGap=function(){return window.getComputedStyle(this.grid)[this.gridGapProp]},c.prototype.setTracks=function(t){this.tracks=t.split(" "),this.trackTypes=this.tracks.reduce(function(t,e,i){var r;return t[i]=(r=e).endsWith("px")?"px":r.endsWith("fr")?"fr":r.endsWith("%")?"%":"auto"===r?"auto":null,t},{})},c.prototype.setComputedTracks=function(t){this.computedTracks=t.split(" "),this.computedPixels=this.computedTracks.map(function(t){return Number(t.slice(0,-2))})},c.prototype.setGap=function(t){this.gap=t},c.prototype.setComputedGap=function(t){var e,i;this.computedGap=t,this.computedGapPixels=(e="px",((i=this.computedGap).endsWith(e)?Number(i.slice(0,-1*e.length)):null)||0)},c.prototype.getMousePosition=function(t){return"touches"in t?t.touches[0][this.clientAxis]:t[this.clientAxis]},c.prototype.startDragging=function(t){if(!("button"in t&&0!==t.button)){t.preventDefault(),this.element?this.grid=this.element.parentNode:this.grid=t.target.parentNode,this.getDimensions(),this.setComputedTracks(this.getRawComputedTracks()),this.setTracks(this.getRawTracks()),this.setGap(this.getGap()),this.setComputedGap(this.getRawComputedGap());var e=o("%",this.tracks),i=o("fr",this.tracks);if(this.totalFrs=Object.keys(i).length,this.totalFrs){var r=a(i);void 0!==r&&(this.frToPixels=this.computedPixels[r]/i[r])}if(Object.keys(e).length){var s=a(e);void 0!==s&&(this.percentageToPixels=this.computedPixels[s]/e[s])}var n=this.getSizeAtTrack(this.track,!1)+this.start;if(this.dragStartOffset=this.getMousePosition(t)-n,this.aTrack=this.track-1,!(this.track<this.tracks.length-1))throw Error("Invalid track index: "+this.track+". Track must be between two other tracks and only "+this.tracks.length+" tracks were found.");this.bTrack=this.track+1,this.aTrackStart=this.getSizeAtTrack(this.aTrack,!1)+this.start,this.bTrackEnd=this.getSizeAtTrack(this.bTrack,!0)+this.start,this.dragging=!0,window.addEventListener("mouseup",this.stopDragging),window.addEventListener("touchend",this.stopDragging),window.addEventListener("touchcancel",this.stopDragging),window.addEventListener("mousemove",this.drag),window.addEventListener("touchmove",this.drag),this.grid.addEventListener("selectstart",h),this.grid.addEventListener("dragstart",h),this.grid.style.userSelect="none",this.grid.style.webkitUserSelect="none",this.grid.style.MozUserSelect="none",this.grid.style.pointerEvents="none",this.grid.style.cursor=this.cursor,window.document.body.style.cursor=this.cursor,this.onDragStart(this.direction,this.track)}},c.prototype.stopDragging=function(){this.dragging=!1,this.cleanup(),this.onDragEnd(this.direction,this.track),this.needsDestroy&&(this.element&&(this.element.removeEventListener("mousedown",this.startDragging),this.element.removeEventListener("touchstart",this.startDragging)),this.destroyCb(),this.needsDestroy=!1,this.destroyCb=null)},c.prototype.drag=function(t){var e=this.getMousePosition(t),i=this.getSizeOfTrack(this.track),r=this.aTrackStart+this.minSizeStart+this.dragStartOffset+this.computedGapPixels,s=this.bTrackEnd-this.minSizeEnd-this.computedGapPixels-(i-this.dragStartOffset);e<r+this.snapOffset&&(e=r),s-this.snapOffset<e&&(e=s),e<r?e=r:s<e&&(e=s);var n=e-this.aTrackStart-this.dragStartOffset-this.computedGapPixels,o=this.bTrackEnd-e+this.dragStartOffset-i-this.computedGapPixels;if(1<this.dragInterval){var a=Math.round(n/this.dragInterval)*this.dragInterval;o-=a-n,n=a}if(n<this.minSizeStart&&(n=this.minSizeStart),o<this.minSizeEnd&&(o=this.minSizeEnd),"px"===this.trackTypes[this.aTrack])this.tracks[this.aTrack]=n+"px";else if("fr"===this.trackTypes[this.aTrack])if(1===this.totalFrs)this.tracks[this.aTrack]="1fr";else{var h=n/this.frToPixels;this.tracks[this.aTrack]=h+"fr"}else if("%"===this.trackTypes[this.aTrack]){var c=n/this.percentageToPixels;this.tracks[this.aTrack]=c+"%"}if("px"===this.trackTypes[this.bTrack])this.tracks[this.bTrack]=o+"px";else if("fr"===this.trackTypes[this.bTrack])if(1===this.totalFrs)this.tracks[this.bTrack]="1fr";else{var u=o/this.frToPixels;this.tracks[this.bTrack]=u+"fr"}else if("%"===this.trackTypes[this.bTrack]){var d=o/this.percentageToPixels;this.tracks[this.bTrack]=d+"%"}var l=this.tracks.join(" ");this.writeStyle(this.grid,this.gridTemplateProp,l),this.onDrag(this.direction,this.track,l)},c.prototype.cleanup=function(){window.removeEventListener("mouseup",this.stopDragging),window.removeEventListener("touchend",this.stopDragging),window.removeEventListener("touchcancel",this.stopDragging),window.removeEventListener("mousemove",this.drag),window.removeEventListener("touchmove",this.drag),this.grid&&(this.grid.removeEventListener("selectstart",h),this.grid.removeEventListener("dragstart",h),this.grid.style.userSelect="",this.grid.style.webkitUserSelect="",this.grid.style.MozUserSelect="",this.grid.style.pointerEvents="",this.grid.style.cursor=""),window.document.body.style.cursor=""},c.prototype.destroy=function(t,e){void 0===t&&(t=!0),t||!1===this.dragging?(this.cleanup(),this.element&&(this.element.removeEventListener("mousedown",this.startDragging),this.element.removeEventListener("touchstart",this.startDragging)),e&&e()):(this.needsDestroy=!0,e&&(this.destroyCb=e))};var u=function(t,e,i){return e in t?t[e]:i},s=function(r,s){return function(t){if(t.track<1)throw Error("Invalid track index: "+t.track+". Track must be between two other tracks.");var e="column"===r?s.columnMinSizes:s.rowMinSizes,i="column"===r?"columnMinSize":"rowMinSize";return new c(r,Object.assign({},{minSizeStart:u(e,t.track-1,n(s,i,n(s,"minSize",0))),minSizeEnd:u(e,t.track+1,n(s,i,n(s,"minSize",0)))},t),s)}},d=function(e){var i=this;this.options=e,this.columnGutters={},this.rowGutters={};var r=Object.assign({},{columnGutters:e.columnGutters||[],rowGutters:e.rowGutters||[],columnMinSizes:e.columnMinSizes||{},rowMinSizes:e.rowMinSizes||{}},e);e.columnGutters.forEach(function(t){i.columnGutters[e.track]=s("column",r)(t)}),e.rowGutters.forEach(function(t){i.rowGutters[e.track]=s("row",r)(t)})};return d.prototype.addColumnGutter=function(t,e){this.columnGutters[e]&&this.columnGutters[e].destroy(),this.columnGutters[e]=s("column",this.options)({element:t,track:e})},d.prototype.addRowGutter=function(t,e){this.rowGutters[e]&&this.rowGutters[e].destroy(),this.rowGutters[e]=s("row",this.options)({element:t,track:e})},d.prototype.removeColumnGutter=function(t,e){var i=this;void 0===e&&(e=!0),this.columnGutters[t]&&this.columnGutters[t].destroy(e,function(){delete i.columnGutters[t]})},d.prototype.removeRowGutter=function(t,e){var i=this;void 0===e&&(e=!0),this.rowGutters[t]&&this.rowGutters[t].destroy(e,function(){delete i.rowGutters[t]})},d.prototype.handleDragStart=function(t,e,i){"column"===e?(this.columnGutters[i]&&this.columnGutters[i].destroy(),this.columnGutters[i]=s("column",this.options)({track:i}),this.columnGutters[i].startDragging(t)):"row"===e&&(this.rowGutters[i]&&this.rowGutters[i].destroy(),this.rowGutters[i]=s("row",this.options)({track:i}),this.rowGutters[i].startDragging(t))},d.prototype.destroy=function(e){var i=this;void 0===e&&(e=!0),Object.keys(this.columnGutters).forEach(function(t){return i.columnGutters[t].destroy(e,function(){delete i.columnGutters[t]})}),Object.keys(this.rowGutters).forEach(function(t){return i.rowGutters[t].destroy(e,function(){delete i.rowGutters[t]})})},function(t){return new d(t)}});
//# sourceMappingURL=split-grid.min.js.map
