/*! For license information please see index.c5bf8d69c087068ecaa0.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([["workbench/index"],{"2FM5":function(e,n){e.exports=VConsole},"2nRM":function(e,n,t){"use strict";t.r(n);t("x34a"),t("SK4B"),t("H1Ta"),t("gZXI");var o=t("+2Rf"),r=t.n(o),i=(t("q+S7"),t("3D7a"),t("kOa0"),t("ln6h")),a=t.n(i),l=(t("ls82"),t("+oT+")),s=t.n(l),c=(t("KKXr"),t("f3/d"),t("dRSK"),t("SiQ7")),u=t.n(c),d=t("LvDl"),p=t.n(d),f=t("+U4B"),h=t("sR6L"),v=t("o0uP"),m=t("xV8d"),g=t.n(m),y=t("75s8"),b=t.n(y),w=t("Z4uj"),x=t.n(w),k=t("Qyje"),C=t("hfKm"),F=t.n(C),T=t("2Eek"),O=t.n(T),I=t("XoMD"),S=t.n(I),P=t("Jo+v"),E=t.n(P),A=t("4mXO"),j=t.n(A),M=t("pLtp"),L=t.n(M),K=t("eVuF"),N=t.n(K),z=t("xHqa"),D=t.n(z),V=t("vDqi"),H=t.n(V),_=t("hUol");t("YeN5"),t("IkY0");_.options.closeButton=!1,_.options.debug=!1,_.options.newestOnTop=!0,_.options.progressBar=!1,_.options.positionClass="toast-bottom-right",_.options.preventDuplicates=!0,_.options.onclick=null,_.options.showDuration=300,_.options.hideDuration=1e3,_.options.timeOut=8e3,_.options.extendedTimeOut=1500,_.options.showEasing="swing",_.options.hideEasing="linear",_.options.showMethod="fadeIn",_.options.hideMethod="fadeOut";var q={error:function(e){var n=e.message,t=e.description;Object(_.error)(t||n)},warning:function(e){var n=e.message,t=e.description;Object(_.warning)(t||n)},info:function(e){var n=e.message,t=e.description;Object(_.info)(t||n)},success:function(e){var n=e.message,t=e.description;Object(_.success)(t||n)},clear:_.clear,getContainer:_.getContainer,subscribe:_.subscribe,remove:_.remove};function R(e,n){var t=L()(e);if(j.a){var o=j()(e);n&&(o=o.filter((function(n){return E()(e,n).enumerable}))),t.push.apply(t,o)}return t}var W={200:"服务器成功返回请求的数据。",201:"新建或修改数据成功。",202:"一个请求已经进入后台排队（异步任务）。",204:"删除数据成功。",400:"发出的请求有错误，服务器没有进行新建或修改数据的操作。",401:"用户没有权限（令牌、用户名、密码错误）。",403:"用户得到授权，但是访问是被禁止的。",404:"发出的请求针对的是不存在的记录，服务器没有进行操作。",406:"请求的格式不可得。",410:"请求的资源被永久删除，且不会再得到的。",422:"当创建一个对象时，发生一个验证错误。",500:"服务器发生错误，请检查服务器。",502:"网关错误。",503:"服务不可用，服务器暂时过载或维护。",504:"网关超时。"};H.a.interceptors.request.use((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(t,!0).forEach((function(n){D()(e,n,t[n])})):S.a?O()(e,S()(t)):R(t).forEach((function(n){F()(e,n,E()(t,n))}))}return e}({},e,{baseURL:"/",timeout:3e4,validateStatus:function(e){return e>=200&&e<300}})}),(function(e){return q.error({message:"请求发送失败",description:"发送请求给服务端失败，请检查电脑网络，再重试"}),N.a.reject(e)}));H.a.interceptors.response.use((function(e){return e}),(function(e){return function(e){var n=e.response;if(e&&n){var t=n.data;if(t&&t.message)return t.validMessageList&&(t.message="请求参数校验失败"),q.error({message:"".concat(t.error," -> ").concat(t.path),description:t.message}),!0;var o=W[n.status]||n.statusText;q.error({message:"请求错误,响应状态码:".concat(n.status),description:o})}else q.error({message:"请求服务端异常",description:"服务器异常"});return!1}(e)?N.a.reject(e.response):N.a.reject(e)}));var Y,J=function(e){return e.data?e.data:null},Q={request:function(e){return H.a.request(e).then((function(e){return J(e)}))},get:(Y=s()(a.a.mark((function e(n,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",H.a.get(n,t).then((function(e){return J(e)})));case 1:case"end":return e.stop()}}),e)}))),function(e,n){return Y.apply(this,arguments)}),delete:function(e,n){return H.a.delete(e,n).then((function(e){return J(e)}))},head:function(e,n){return H.a.head(e,n).then((function(e){return J(e)}))},options:function(e,n){return H.a.options(e,n).then((function(e){return J(e)}))},post:function(e,n,t){return H.a.post(e,n,t).then((function(e){return J(e)}))},put:function(e,n,t){return H.a.put(e,n,t).then((function(e){return J(e)}))},patch:function(e,n,t){return H.a.patch(e,n,t).then((function(e){return J(e)}))}};function U(){return B.apply(this,arguments)}function B(){return(B=s()(a.a.mark((function e(){var n,t,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:"default",t=o.length>1&&void 0!==o[1]?o[1]:"default",e.abrupt("return",Q.get("/api/js_code_file/tree?".concat(Object(k.stringify)({bizType:n,groupName:t}))));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return X.apply(this,arguments)}function X(){return(X=s()(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.get("/api/js_code_file/".concat(n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=s()(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.post("/api/js_code_file/add",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,n){return te.apply(this,arguments)}function te(){return(te=s()(a.a.mark((function e(n,t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.put("/api/js_code_file/".concat(n),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe={bizType:"default",groupName:"default",leftCenterLayout:void 0,editorConsoleLayout:void 0,vConsole:void 0,workspaceTree:void 0,monaco:void 0,editorInstance:void 0,editorViewStateMap:{},initEditorViewState:void 0,openFileArray:[],currentOpenFileId:void 0,showContainerLeft:$(".show-container-left"),workbenchHeaderTools:{openFileFullPath:{workspaceTitle:$(".open-file-full-path .workspace-title"),fullPathTitle:$(".open-file-full-path .file-full-path-title")},debugMethods:$("#debug-method-name"),debug:$(".workbench-header-tools .fa-button.fa.debug"),runLogs:$(".workbench-header-tools .fa-button.fa.fa-file-text-o"),history:$(".workbench-header-tools .fa-button.fa.fa-history"),console:$(".workbench-header-tools .console"),keyboard:$(".workbench-header-tools .fa-button.fa.fa-keyboard-o")},workbenchContainerLeft:{titleActions:{close:$(".workbench-container .container-left .left-title .actions .close")}},openedFile:{tools:{title:$(".opened-file .panel-tools .title"),actions:{saveAll:$(".opened-file .panel-tools .actions .save-all"),closeAll:$(".opened-file .panel-tools .actions .close-all")}},panelTools:$(".opened-file .panel-tools"),content:$(".opened-file .panel-content"),openedFileContent:$("#opened-file-content")},workspacePanel:{tools:{title:$(".workspace .panel-tools .title"),actions:{positionFile:$(".workspace .panel-tools .actions .position-file"),createFile:$(".workspace .panel-tools .actions .create-file"),createFolder:$(".workspace .panel-tools .actions .create-folder"),refresh:$(".workspace .panel-tools .actions .refresh"),collapseAll:$(".workspace .panel-tools .actions .collapse-all")}},root:$(".workbench-container .container-left .workspace"),panelTools:$(".workspace .panel-tools"),content:$(".workspace .workspace-content")},switchWorkspace:{tools:{title:$(".switch-workspace .panel-tools .title"),actions:{refresh:$(".switch-workspace .panel-tools .actions .refresh")}},panelTools:$(".switch-workspace .panel-tools"),panelContent:$(".switch-workspace .panel-content"),content:$("#switch-workspace-content")},editorContainer:{centerPage:$("#container-center-page"),editorTools:$(".editor-container .editor-tools"),editorInstance:$(".editor-container .editor-instance")},editorTools:{fileTabs:$(".editor-tools .open-file-tabs"),buttons:{saveFile:$(".editor-tools .editor-tools-buttons .save-file"),lockFile:$(".editor-tools .editor-tools-buttons .lock-file"),deleteFile:$(".editor-tools .editor-tools-buttons .delete-file")}},consoleTopTools:{tabs:{tabTitle:$(".console-top-tools .console-top-tabs .tab-title")},buttons:{close:$(".console-top-tools .console-top-buttons .console-top-close"),expandedFolded:$(".console-top-tools .console-top-buttons .console-top-expanded-folded"),logFilter:$(".console-top-tools .console-top-buttons .log-filter")}},vConsoleTools:{clearLog:$(".v-console-tools .clear-log"),followLog:$(".v-console-tools .follow-log")},renderOpenFile:function(e,n){var t=n.treePosition,o=void 0===t||t,r=n.fileTabsPosition,i=void 0===r||r,a=n.openedFilePosition,l=void 0===a||a,s=oe.openFileArray,c=oe.currentOpenFileId,u=oe.editorInstance,d=oe.workspaceTree,f=oe.editorViewStateMap,h=oe.initEditorViewState;if((e||c)&&e!==c){var v;if(c){v=s.find((function(e){return e.id===c}));var m=u.getValue();v&&v.jsCode!==m&&(""!==m||v.jsCode)&&(v.jsCode=m,v.needSave=!0),f[c]=u.saveViewState()}if(v=void 0,e&&(v=s.find((function(n){return n.id===e}))),v||p.a.forEach(s,(function(e){v?v.lastOpenTime<=e.lastOpenTime&&(v=e):v=e})),v){oe.showContainerCenter(!0),oe.currentOpenFileId=v.id,v.lastOpenTime=(new Date).getTime(),u.setValue(v.jsCode||"");var y=f[v.id]||h;y&&u.restoreViewState(y)}else oe.showContainerCenter(!1),oe.currentOpenFileId=void 0,u.setValue(""),v={id:void 0,filePath:"",name:""};o&&v.id&&d.activateKey(v.id,{noEvents:!0,noFocus:!0});var w={openFileArray:s,currentOpenFileId:v.id};i&&oe.editorTools.fileTabs.html(g()(w));var k=w;l&&oe.openedFile.openedFileContent.html(b()(k));var C=(v.filePath+v.name).split("/").filter((function(e){return e&&e.length>0}));oe.workbenchHeaderTools.openFileFullPath.fullPathTitle.html(x()({paths:C}))}},fileContentChange:function(){var e=oe.openFileArray,n=oe.currentOpenFileId,t=e.find((function(e){return e.id===n}));if(t){var o=oe.editorInstance.getValue();if(oe.parseDebugMethods(o),t.needSave)t.jsCode=o;else{t.jsCode===o||""===o&&!t.jsCode||(t.jsCode=o,t.needSave=!0);var r={openFileArray:e,currentOpenFileId:t.id};oe.editorTools.fileTabs.html(g()(r));var i=r;oe.openedFile.openedFileContent.html(b()(i))}}else oe.parseDebugMethods()},showContainerCenter:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=oe.editorContainer,t=n.centerPage,o=n.editorTools,r=n.editorInstance;if(e){if("none"!==o.css("display"))return;return t.hide(),o.show(),r.show(),void oe.editorInstance.layout()}"none"===t.css("display")&&(o.hide(),r.hide(),t.show())}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e||(e=[]);var n=oe.workbenchHeaderTools.debugMethods,t=[];t.push('<option value="">请选择方法名</option>');var o=[];e.forEach((function(e){o.indexOf(e)>=0||(o.push(e),t.push('<option value="'.concat(e,'">').concat(e,"</option>")))}));var r=n.val();n.html(t.join("\n")),o.indexOf(r)<0?n.val(""):n.val(r)},ie=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n||(n=[]);var o=n.find((function(e){return e&&e.name===t}));if(!o||!o.defs||!o.defs.length||o.defs.length<=0)return!1;var r=o.defs.find((function(e){return e&&e.node&&e.node.init&&"FunctionExpression"===e.node.init.type}));if(r)return!0;var i=!1;return o.defs.forEach((function(t){i||t&&t.node&&t.node.init&&"Identifier"===t.node.init.type&&(i=e(n,t.node.init.name))})),i},ae="";oe.parseDebugMethods=function(e){if(!e||p.a.trim(e).length<=0)return ae="",void re();if(p.a.trim(e||"")!==p.a.trim(ae||"")){var n,t;ae=e;try{n=f.parseScript(e,{jsx:!1,range:!0,loc:!0,tolerant:!1,tokens:!1,comment:!0})}catch(e){return void re()}try{var o=v.analyze(n,{optimistic:!1,directive:!1,nodejsScope:!1,impliedStrict:!1,sourceType:"script",ecmaVersion:5,childVisitorKeys:null,fallback:"iteration"});t=o.acquire(n)}catch(e){console.warn("脚本语法解析异常",e),t={}}var r=[];h.traverse(n,{enter:function(e){return"AssignmentExpression"===e.type&&"="===e.operator&&"MemberExpression"===e.left.type&&"Identifier"===e.left.object.type&&"exports"===e.left.object.name&&"Identifier"===e.left.property.type&&["FunctionExpression","Identifier"].indexOf(e.right.type)>=0?"Identifier"===e.right.type?void(ie(t.variables,e.right.name)&&r.push(e.left.property.name)):void r.push(e.left.property.name):"AssignmentExpression"===e.type&&"="===e.operator&&"MemberExpression"===e.left.type&&"MemberExpression"===e.left.object.type&&"Identifier"===e.left.property.type&&"Identifier"===e.left.object.object.type&&"module"===e.left.object.object.name&&"Identifier"===e.left.object.property.type&&"exports"===e.left.object.property.name&&["FunctionExpression","Identifier"].indexOf(e.right.type)>=0?"Identifier"===e.right.type?void(ie(t.variables,e.right.name)&&r.push(e.left.property.name)):void r.push(e.left.property.name):"AssignmentExpression"===e.type&&"="===e.operator&&"Identifier"===e.left.type&&"exports"===e.left.name&&["ObjectExpression"].indexOf(e.right.type)>=0?(r.length=0,void e.right.properties.forEach((function(e){"Property"===e.type&&"Identifier"===e.key.type&&"FunctionExpression"===e.value.type&&r.push(e.key.name)}))):void("AssignmentExpression"===e.type&&"="===e.operator&&"MemberExpression"===e.left.type&&"Identifier"===e.left.object.type&&"module"===e.left.object.name&&"Identifier"===e.left.property.type&&"exports"===e.left.property.name&&["ObjectExpression"].indexOf(e.right.type)>=0&&(r.length=0,e.right.properties.forEach((function(e){"Property"===e.type&&"Identifier"===e.key.type&&"FunctionExpression"===e.value.type&&r.push(e.key.name)}))))}}),re(r)}},oe.parseDebugMethods=p.a.debounce(oe.parseDebugMethods,600,{maxWait:1e3}),oe.saveJsCodeFile=function(){var e=s()(a.a.mark((function e(n){var t,o,r,i,l,s,c,d,p,f,h,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n||oe.currentOpenFileId,(o=oe.openFileArray.find((function(e){return e.id===t}))).needSave){e.next=4;break}return e.abrupt("return");case 4:return r=o.name,i=o.jsCode,l=o.filePath,s=o.description,c=u.a.load(1),e.next=8,ne(o.id,{name:r,jsCode:i,filePath:l,description:s});case 8:return d=e.sent,o.needSave=!1,o.id=d.id,o.bizType=d.bizType,o.groupName=d.groupName,o.nodeType=d.nodeType,o.filePath=d.filePath,o.name=d.name,o.jsCode=d.jsCode,o.description=d.description,o.createAt=d.createAt,o.updateAt=d.updateAt,p={openFileArray:oe.openFileArray,currentOpenFileId:o.id},oe.editorTools.fileTabs.html(g()(p)),f=p,oe.openedFile.openedFileContent.html(b()(f)),h=o.filePath+o.name,v=h.split("/").filter((function(e){return e&&e.length>0})),oe.workbenchHeaderTools.openFileFullPath.fullPathTitle.html(x()({paths:v})),u.a.close(c),e.abrupt("return",o);case 29:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),window.AppContext=oe;var le=oe,se=t("GXAU"),ce=function(){le.editorInstance&&le.editorInstance.layout()},ue=p.a.debounce((function(){return ce()}),80,{maxWait:130});le.leftCenterLayout=Object(se.a)([".container-left",".container-center"],{direction:"horizontal",sizes:[5,95],minSize:[280,800],gutterSize:6,cursor:"ew-resize",onDrag:function(){return ue()},onDragEnd:function(){return ce()}}),le.editorConsoleLayout=Object(se.a)([".editor-container",".console-container"],{direction:"vertical",sizes:[65,35],minSize:[160,128],gutterSize:5,cursor:"ns-resize",onDrag:function(){return ue()},onDragEnd:function(){return ce()}});var de=null;le.workbenchContainerLeft.titleActions.close.on("click",(function(){de=$(".container-center").attr("style");var e=$(".workbench-container .gutter.gutter-horizontal").width();$(".container-left").hide(),$(".container-center").css({width:"calc(100% - ".concat(e,"px)")}),le.editorInstance.layout(),le.showContainerLeft.show()})),le.showContainerLeft.on("click",(function(){null!=de&&($(".container-center").attr("style",de),de=null,$(".container-left").show(),le.editorInstance.layout(),le.showContainerLeft.hide())}));var pe=null,fe=function(){pe=$(".editor-container").attr("style"),$(".container-center .gutter.gutter-vertical").hide(),$(".console-container").hide(),$(".editor-container").css({height:"100%"}),le.editorInstance.layout(),le.workbenchHeaderTools.console.attr("title","显示控制台")},he=function(){null==pe?fe():null!=pe&&($(".editor-container").attr("style",pe),pe=null,$(".container-center .gutter.gutter-vertical").show(),$(".console-container").show(),le.editorInstance.layout(),le.workbenchHeaderTools.console.attr("title","隐藏控制台"))};le.consoleTopTools.buttons.close.on("click",fe),le.workbenchHeaderTools.console.on("click",he);var ve=window.setInterval((function(){le.editorInstance&&le.monaco&&(le.editorInstance.addCommand(le.monaco.KeyMod.CtrlCmd|le.monaco.KeyCode.KEY_J,he),window.clearInterval(ve))}),300),me=null,ge=null;le.consoleTopTools.buttons.expandedFolded.on("click",(function(){le.consoleTopTools.buttons.expandedFolded.hasClass("expanded")?function(){me=$(".editor-container").attr("style"),ge=$(".console-container").attr("style");var e=$(".container-center .gutter.gutter-vertical").height();$(".editor-container").css({height:"128px"}),$(".console-container").css({height:"calc(100% - ".concat(e+128,"px)")}),le.consoleTopTools.buttons.expandedFolded.removeClass("expanded"),le.consoleTopTools.buttons.expandedFolded.addClass("folded"),le.editorInstance.layout()}():me&&ge&&($(".editor-container").attr("style",me),$(".console-container").attr("style",ge),le.consoleTopTools.buttons.expandedFolded.removeClass("folded"),le.consoleTopTools.buttons.expandedFolded.addClass("expanded"),le.editorInstance.layout())})),le.openedFile.panelTools.on("click",(function(e){$(e.target).hasClass("button")||(le.openedFile.panelTools.toggleClass("expanded"),le.openedFile.content.toggleClass("expanded"))})),le.workspacePanel.panelTools.on("click",(function(e){$(e.target).hasClass("button")||(le.workspacePanel.panelTools.toggleClass("expanded"),le.workspacePanel.content.toggleClass("expanded"),le.workspacePanel.content.hasClass("expanded")?le.workspacePanel.root.css({"flex-grow":2}):le.workspacePanel.root.css({"flex-grow":0}))})),le.switchWorkspace.panelTools.on("click",(function(e){$(e.target).hasClass("button")||(le.switchWorkspace.panelTools.toggleClass("expanded"),le.switchWorkspace.panelContent.toggleClass("expanded"))}));var ye=t("GxwZ"),be=t.n(ye),we=t("2FM5"),xe=t.n(we),ke=(t("SRfc"),function(){var e=window.document,n=window.navigator.userAgent.toLowerCase(),t=e.documentMode,o=window.chrome||!1,r={agent:n,isIE:/msie/.test(n),isGecko:n.indexOf("gecko")>0&&n.indexOf("like gecko")<0,isWebkit:n.indexOf("webkit")>0,isStrict:"CSS1Compat"===e.compatMode,supportSubTitle:function(){return"track"in e.createElement("track")},supportScope:function(){return"scoped"in e.createElement("style")},ieVersion:function(){try{return n.match(/msie ([\d.]+)/)[1]||0}catch(e){return console.log("error"),t}},operaVersion:function(){try{if(window.opera)return n.match(/opera.([\d.]+)/)[1];if(n.indexOf("opr")>0)return n.match(/opr\/([\d.]+)/)[1]}catch(e){return console.log("error"),0}},versionFilter:function(){if(1===arguments.length&&"string"==typeof arguments[0]){var e=arguments[0],n=e.indexOf(".");if(n>0){var t=e.indexOf(".",n+1);if(-1!==t)return e.substr(0,t)}return e}return 1===arguments.length?arguments[0]:0}};try{r.type=r.isIE?"IE":window.opera||n.indexOf("opr")>0?"Opera":n.indexOf("chrome")>0?"Chrome":window.openDatabase?"Safari":n.indexOf("firefox")>0?"Firefox":"unknow",r.version="IE"===r.type?r.ieVersion():"Firefox"===r.type?n.match(/firefox\/([\d.]+)/)[1]:"Chrome"===r.type?n.match(/chrome\/([\d.]+)/)[1]:"Opera"===r.type?r.operaVersion():"Safari"===r.type?n.match(/version\/([\d.]+)/)[1]:"0",r.shell=function(){if(n.indexOf("maxthon")>0)return r.version=n.match(/maxthon\/([\d.]+)/)[1]||r.version,"傲游浏览器";if(n.indexOf("qqbrowser")>0)return r.version=n.match(/qqbrowser\/([\d.]+)/)[1]||r.version,"QQ浏览器";if(n.indexOf("se 2.x")>0)return"搜狗浏览器";if(o&&"Opera"!==r.type){var e=window.external,t=window.clientInformation.languages;return e&&"LiebaoGetVersion"in e?"猎豹浏览器":n.indexOf("bidubrowser")>0?(r.version=n.match(/bidubrowser\/([\d.]+)/)[1]||n.match(/chrome\/([\d.]+)/)[1],"百度浏览器"):r.supportSubTitle()&&void 0===t?L()(o.webstore).length>1?"360极速浏览器":"360安全浏览器":"Chrome"}return r.type},r.name=r.shell(),r.version=r.versionFilter(r.version)}catch(e){console.log("error")}return{client:r}}()),Ce=new xe.a({defaultPlugins:[],disableLogScrolling:!0,onReady:function(){Ce.show(),"Chrome"!==ke.client.name&&new be.a(document.querySelector("#vConsoleByDebug .vc-content"),{autoHide:!0,scrollbarMinSize:35})}});le.vConsole=Ce,le.vConsoleTools.clearLog.on("click",(function(){Ce.pluginList.default.clearLog(),console.clear()})),Ce&&Ce.option&&Ce.option.disableLogScrolling?le.vConsoleTools.followLog.removeClass("active"):le.vConsoleTools.followLog.hasClass("active")||le.vConsoleTools.followLog.addClass("active"),le.vConsoleTools.followLog.on("click",(function(){le.vConsoleTools.followLog.toggleClass("active"),Ce.option.disableLogScrolling=!le.vConsoleTools.followLog.hasClass("active"),Ce.option.disableLogScrolling?le.vConsoleTools.followLog.removeClass("active"):le.vConsoleTools.followLog.addClass("active")})),Ce.pluginList.default.showLogType(le.consoleTopTools.buttons.logFilter.val()),le.consoleTopTools.buttons.logFilter.on("change",(function(){Ce.pluginList.default.showLogType(le.consoleTopTools.buttons.logFilter.val())}));var Fe=t("W6K4"),Te=[];Te.push("\n  var Java = {};\n  Java.type = function () {\n    return {};\n  };\n  "),Te.push("\n  var console = {};\n  console.debug = function () { };\n  console.info = function () { };\n  console.log = function () { };\n  console.warn = function () { };\n  console.error = function () { };\n  "),Te.push('\n  /**\n   * 导出对象\n   */\n  var exports = {\n    /**\n     * 初始化函数\n     */\n    init: function() {},\n  };\n  // 导入其他依赖\n  var require = function() {\n    return {};\n  };\n  /**\n   * 当前模块\n   */\n  var module = {\n    /**\n     * 导出对象\n     */\n    exports: exports,\n  };\n  /**\n   * 当前文件名\n   */\n  var __filename = "";\n  /**\n   * 当前目录名\n   */\n  var __dirname = "";\n  /**\n   * 当前目录名\n   */\n  var filepath = "";\n  /**\n   * 当前目录名\n   */\n  var filepath = "";\n  /**\n   * 当前模块ID全局唯一\n   */\n  var id = "";\n  /**\n   * 当前模块加载完成标识\n   */\n  var loaded = true;\n  '),Te.push("\n\n  ");var $e=Te.join("\n\n");function Oe(e,n){var t=L()(e);if(j.a){var o=j()(e);n&&(o=o.filter((function(n){return E()(e,n).enumerable}))),t.push.apply(t,o)}return t}Fe.config({baseUrl:"/public/js/monaco-editor",paths:{vs:"./min/vs"},"vs/nls":{availableLanguages:{"*":"zh-cn"}}});var Ie,Se=document.getElementById("monaco-editor-instance");$(document).ready((function(){Fe(["vs/editor/editor.main"],(function(){var e=t("uym6");e.languages.typescript.javascriptDefaults.setCompilerOptions(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Oe(t,!0).forEach((function(n){D()(e,n,t[n])})):S.a?O()(e,S()(t)):Oe(t).forEach((function(n){F()(e,n,E()(t,n))}))}return e}({},e.languages.typescript.javascriptDefaults.getCompilerOptions(),{target:e.languages.typescript.ScriptTarget.ES5,allowNonTsExtensions:!0,noLib:!1})),e.languages.typescript.javascriptDefaults.addExtraLib($e);Ie=e.editor.create(Se,{width:"100%",height:"100%",theme:"vs-dark",value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",language:"javascript",lineNumbers:!0,readOnly:!1,cursorStyle:"line",fontSize:14,automaticLayout:!1,contextmenu:!0,minimap:{enabled:!1}}),function(e){Ie.addCommand(e.KeyMod.Alt|e.KeyCode.US_SLASH,(function(){return Ie.trigger(null,"editor.action.triggerSuggest",{})}),"!findWidgetVisible && !inReferenceSearchEditor && !editorHasSelection"),Ie.addCommand(e.KeyMod.CtrlCmd|e.KeyMod.Shift|e.KeyCode.KEY_U,(function(){return Ie.trigger(null,"editor.action.transformToUppercase",{})})),Ie.addCommand(e.KeyMod.CtrlCmd|e.KeyMod.Shift|e.KeyCode.KEY_I,(function(){return Ie.trigger(null,"editor.action.transformToLowercase",{})})),Ie.addCommand(e.KeyMod.CtrlCmd|e.KeyMod.Alt|e.KeyCode.KEY_L,(function(){return Ie.trigger(null,"editor.action.formatDocument",{})}),"editorHasDocumentFormattingProvider && editorTextFocus && !editorReadonly"),Ie.addCommand(e.KeyMod.CtrlCmd|e.KeyMod.Alt|e.KeyCode.KEY_L,(function(){return Ie.trigger(null,"editor.action.formatSelection",{})}),"editorHasDocumentFormattingProvider && editorHasSelection && editorTextFocus && !editorReadonly"),Ie.addCommand(e.KeyMod.CtrlCmd|e.KeyMod.Alt|e.KeyCode.KEY_O,(function(){return Ie.trigger(null,"editor.action.organizeImports",{})}),"editorTextFocus && !editorReadonly && supportedCodeAction =~ /(\\s|^)source\\.organizeImports\\b/"),Ie.addCommand(e.KeyMod.CtrlCmd|e.KeyCode.KEY_S,(function(){return le.saveJsCodeFile()}))}(e),le.editorInstance=Ie,le.monaco=e,le.initEditorViewState=Ie.saveViewState(),Ie.onDidChangeModelContent(p.a.debounce(le.fileContentChange,100,{maxWait:350}))})),window.addEventListener("resize",p.a.debounce((function(){Ie&&Ie.layout()}),100,{maxWait:350}))}));var Pe=t("+QRC"),Ee=t.n(Pe),Ae=(t("ogQb"),t("Th2Q"),t("8CCZ"));t("6KCr"),t("aPbu"),t("IsYN");function je(e,n){var t=L()(e);if(j.a){var o=j()(e);n&&(o=o.filter((function(n){return E()(e,n).enumerable}))),t.push.apply(t,o)}return t}function Me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?je(t,!0).forEach((function(n){D()(e,n,t[n])})):S.a?O()(e,S()(t)):je(t).forEach((function(n){F()(e,n,E()(t,n))}))}return e}var Le,Ke={extensions:["edit","contextMenu","dnd5"],treeId:"WorkspaceTree",activeVisible:!0,aria:!0,autoActivate:!0,autoCollapse:!1,autoScroll:!1,clickFolderMode:3,checkbox:!1,checkboxAutoHide:void 0,debugLevel:0,disabled:!1,focusOnSelect:!0,escapeTitles:!1,generateIds:!0,idPrefix:"fancytree_ft_",icon:!0,keyboard:!0,keyPathSeparator:"/",minExpandLevel:1,quicksearch:!1,rtl:!1,selectMode:1,tabindex:"0",titlesTabbable:!1,tooltip:function(e,n){return n.node.data.fullPath},postProcess:function(e,n){!function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!n||n.length<=0||n.forEach((function(n){var t=n.children,o=n.fullPath,r=n.name,i=n.nodeType,a=n.dataId;n.key=a,n.folder=2===i,n.title=r,n.iconTooltip=o,t&&t.length>0&&e(t)}))}(n.response)},dblclick:function(e,n){n.node.folder||Ve(n.node.data)},click:function(e,n){n.node.folder||Ve(n.node.data)},edit:{beforeClose:function(e,n){console.log("edit - beforeClose",n)},save:(Le=s()(a.a.mark((function e(n,t){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z({bizType:"string",description:"string",filePath:"string",groupName:"string",jsCode:"string",name:"string",nodeType:0});case 2:return o=e.sent,console.log("edit - save",t,o),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),function(e,n){return Le.apply(this,arguments)}),close:function(e,n){console.log("edit - close",n)}},contextMenu:{selector:"fancytree-node",menu:{createFile:{name:"新增文件",icon:"context-menu-create-file"},createFolder:{name:"新增文件夹",icon:"context-menu-create-folder"},copyFileName:{name:"复制文件名",icon:"context-menu-copy-file-name"},copyFullPath:{name:"复制全路径",icon:"context-menu-copy-full-path"},sep1:"---------",delete:{name:"删除",icon:"context-menu-delete"},rename:{name:"重命名",icon:"context-menu-rename"}},actions:function(e,n,t){"createFile"===n?He(!1,e):"createFolder"===n?He(!0,e):"copyFileName"===n?Ee()(e.data.name,{format:"text/plain"}):"copyFullPath"===n?Ee()(e.data.fullPath,{format:"text/plain"}):"delete"===n?e.remove():"rename"===n&&e.editStart()}}},Ne=function(){var e=s()(a.a.mark((function e(){var n,t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(le.bizType,le.groupName);case 2:n=e.sent,t=Object(Ae.createTree)("#workspace-file-tree",Me({},Ke,{source:n})),new be.a(document.querySelector(".workspace .workspace-content"),{autoHide:!0,scrollbarMinSize:35}),le.workspaceTree=t;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();$(document).ready((function(){Ne(),le.workspacePanel.tools.title.html("".concat(le.bizType,"-").concat(le.groupName)),le.workbenchHeaderTools.openFileFullPath.workspaceTitle.html("[".concat(le.bizType,"-").concat(le.groupName,"]")),"Chrome"!==ke.client.name&&new be.a(document.querySelector(".workbench-container .container-left .opened-file .panel-content"),{autoHide:!0,scrollbarMinSize:35})}));var ze=function(){var e=s()(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le.workspaceTree){e.next=2;break}return e.abrupt("return");case 2:return le.workspacePanel.tools.title.html("".concat(le.bizType,"-").concat(le.groupName)),le.workbenchHeaderTools.openFileFullPath.workspaceTitle.html("[".concat(le.bizType,"-").concat(le.groupName,"]")),e.next=6,U(le.bizType,le.groupName);case 6:n=e.sent,le.workspaceTree.reload(n).done((function(){console.log("reloaded")}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();le.workspacePanel.tools.actions.refresh.on("click",(function(){return ze()}));var De=!1,Ve=function(){var e=s()(a.a.mark((function e(n){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!De){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,De=!0,t=le.openFileArray.find((function(e){return e.id===n.dataId}))){e.next=10;break}return e.next=8,G(n.dataId);case 8:t=e.sent,le.openFileArray.push(Me({},t,{needSave:!1,lastOpenTime:(new Date).getTime()}));case 10:le.renderOpenFile(t.id,{treePosition:!1}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),De=!1;case 16:De=!1;case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n){return e.apply(this,arguments)}}();le.workspacePanel.tools.actions.positionFile.on("click",(function(){le.currentOpenFileId&&le.workspaceTree.activateKey(le.currentOpenFileId,{noEvents:!0,noFocus:!0})}));var He=function(e,n){var t=n;t||(t=le.workspaceTree.getActiveNode());var o={folder:!1,title:"new-file.js",iconTooltip:"",tooltip:"",data:{}};e&&(o.folder=!0,o.title="new-folder"),t.folder?t.editCreateNode("child",o):t.editCreateNode("after",o)};le.workspacePanel.tools.actions.createFile.on("click",(function(){return He(!1)})),le.workspacePanel.tools.actions.createFolder.on("click",(function(){return He(!0)}));le.workspacePanel.tools.actions.collapseAll.on("click",(function(){le.workspaceTree.expandAll(!1,{noAnimation:!1,noEvents:!0})})),le.openedFile.tools.actions.saveAll.on("click",(function(){var e=le.openFileArray.filter((function(e){return e.needSave}));console.log("保存所有文件",e.length),le.renderOpenFile(null,{treePosition:!1})})),le.openedFile.tools.actions.closeAll.on("click",(function(){var e=le.openFileArray.filter((function(e){return e.needSave}));e.length>0&&console.log("需要保存",e.length),le.openFileArray=[],le.renderOpenFile(void 0,{treePosition:!1}),console.log("关闭所有文件")}));t("INYr");$(document).on("click",".editor-container .editor-tools .open-file-tabs .file-title",(function(e){var n,t=$(e.target);n=t.hasClass("file-title")?t:t.parent(".file-title");var o=$(n).attr("data-id");if(t.hasClass("file-close"))return t.hasClass("need-save")&&console.log("需要保存"),le.openFileArray=le.openFileArray.filter((function(e){return e.id!==o})),void le.renderOpenFile(null,{});le.renderOpenFile(o,{})})),$(document).on("click","#opened-file-content .file-title",(function(e){var n,t=$(e.target);n=t.hasClass("file-title")?t:t.parent(".file-title");var o=$(n).attr("data-id");if(t.hasClass("file-close"))return t.hasClass("need-save")&&console.log("需要保存"),le.openFileArray=le.openFileArray.filter((function(e){return e.id!==o})),void le.renderOpenFile(null,{});le.renderOpenFile(o,{})})),$.contextMenu({selector:".editor-tools .open-file-tabs .file-title",items:{closeOther:{name:"关闭其它",icon:"context-menu-close-other"},closeRight:{name:"关闭右侧",icon:"context-menu-close-right"},closeLeft:{name:"关闭左侧",icon:"context-menu-close-left"},closeAll:{name:"关闭所有",icon:"context-menu-close-all"},sep1:"---------",copyFileName:{name:"复制文件名",icon:"context-menu-copy-file-name"},copyFullPath:{name:"复制全路径",icon:"context-menu-copy-full-path"}},callback:function(e,n){var t=n.$trigger.attr("data-id");if(t){var o=le.openFileArray.find((function(e){return e.id===t}));if(o){var r=[];if("closeOther"===e)le.openFileArray.forEach((function(e){e.id!==t&&r.push(e.id)}));else if("closeRight"===e){var i=!1;le.openFileArray.forEach((function(e){e.id!==t?i&&r.push(e.id):i=!0}))}else if("closeLeft"===e){var a=!0;le.openFileArray.forEach((function(e){e.id!==t?a&&r.push(e.id):a=!1}))}else"closeAll"===e?le.openFileArray.forEach((function(e){r.push(e.id)})):"copyFileName"===e?Ee()(o.name,{format:"text/plain"}):"copyFullPath"===e&&Ee()(o.filePath+o.name,{format:"text/plain"});if(!(r.length<=0)){var l=le.openFileArray.filter((function(e){return e.needSave&&r.findIndex((function(n){return n===e.id}))>=0}));l.length>0&&console.log("需要保存",l.length),le.openFileArray=le.openFileArray.filter((function(e){return r.findIndex((function(n){return n===e.id}))<0})),le.renderOpenFile(void 0,{treePosition:!1}),console.log("关闭所有文件")}}}}});var _e,qe=t("TbGu"),Re=t.n(qe),We=t("9Jkg"),Ye=t.n(We),Je=function(e){e?(le.workbenchHeaderTools.debug.removeClass("fa-bug"),le.workbenchHeaderTools.debug.addClass("fa-stop"),le.workbenchHeaderTools.debug.attr("title","停止调试")):(le.workbenchHeaderTools.debug.removeClass("fa-stop"),le.workbenchHeaderTools.debug.addClass("fa-bug"),le.workbenchHeaderTools.debug.attr("title","开始调试"))},Qe=!1,Ue=function(e,n){Je(Qe=!0);var t=(new Date).getTime(),o="[".concat(e,"] - [").concat(n,"]");(_e=new WebSocket("ws://".concat(window.location.host,"/ws/debug"))).onopen=function(){console.log("".concat(o," 已连接服务器...")),_e.send(Ye()({type:"normal",fileFullPath:e,fucName:n}))},_e.onclose=function(e){Qe=!1;var n=(new Date).getTime();Je(Qe),console.warn("".concat(o," 关闭与服务器的连接！ --\x3e [耗时：").concat((n-t)/1e3,"s]"))},_e.onerror=function(e){console.error("".concat(o," 连接服务器错误"),e)},_e.onmessage=function(e){var n=JSON.parse(e.data);if("log"===n.type){var t,o=["[".concat(n.logTime,"] "),"[".concat(n.level.toUpperCase(),"] "),n.fileName?n.filePath+n.fileName:""," - "].concat(Re()(n.logs));if("log"===n.level)(t=console).log.apply(t,Re()(o));else if("trace"===n.level){var r;(r=console).trace.apply(r,Re()(o))}else if("debug"===n.level){var i;(i=console).debug.apply(i,Re()(o))}else if("info"===n.level){var a;(a=console).info.apply(a,Re()(o))}else if("warn"===n.level){var l;(l=console).warn.apply(l,Re()(o))}else if("error"===n.level){var s;(s=console).error.apply(s,Re()(o))}else{var c;(c=console).log.apply(c,Re()(o))}}}};le.workbenchHeaderTools.debug.on("click",(function(){if(Qe)_e.close();else if(le.currentOpenFileId){var e=le.openFileArray.find((function(e){return e.id===le.currentOpenFileId}));if(e){var n=le.workbenchHeaderTools.debugMethods.val();!n||p.a.trim(n).length<=0?u.a.msg("请选择需要调试的方法名",{time:1500}):e.needSave?u.a.confirm("当前文件需要保存！<br />".concat(e.name),{btn:["保存并调试","取消"]},(function(t){u.a.close(t),le.saveJsCodeFile(e.id).then((function(t){var o=t||e;Ue(o.filePath+o.name,n)}))})):Ue(e.filePath+e.name,n)}else u.a.msg("请选择文件",{time:1500})}else u.a.msg("未打开文件，请先打开文件",{time:1500})})),r()(document).ready((function(){r()(".workbench-root").css("visibility","visible"),document.oncontextmenu=function(){return!1}}))},"75s8":function(e,n,t){var o=t("NVNq");e.exports=function(e){"use strict";e=e||{};var n="",t=o.$each,r=e.openFileArray,i=(e.file,e.index,o.$escape),a=e.currentOpenFileId;return t(r,(function(e,t){n+="\n",e&&(n+='\n<div class="file-title',n+=i(e.id===a?" active":""),n+='" title="',n+=i(e.filePath),n+=i(e.name),n+='" data-id="',n+=i(e.id),n+='">\n  <span class="file-close',n+=i(e.needSave?" need-save":""),n+='" title="关闭"></span>\n  <span class="file-type file-type-',n+=i(e.name.substr(e.name.lastIndexOf(".")+1)),n+='"></span>\n  <span class="file-name">',n+=i(e.name),n+='</span>\n  <span class="file-full-path">',n+=i(e.filePath),n+=i(e.name),n+="</span>\n</div>\n"),n+="\n"})),n+="\n"}},IkY0:function(e,n,t){},IsYN:function(e,n){!function(e,n){"use strict";var t=function(n,t,o,r){n.$container.on("mousedown.contextMenu",(function(i){var a=e.ui.fancytree.getNode(i);a&&(e.contextMenu("destroy","."+t),a.setFocus(!0),a.setActive(!0),e.contextMenu({selector:"."+t,events:{show:function(e){e.prevKeyboard=n.options.keyboard,n.options.keyboard=!1},hide:function(e){n.options.keyboard=e.prevKeyboard,a.setFocus(!0)}},build:function(n,t){(a=e.ui.fancytree.getNode(n))&&(a.setFocus(!0),a.setActive(!0));var i={};return e.isFunction(o)?i=o(a):e.isPlainObject(o)&&(i=o),{callback:function(n,t){e.isFunction(r)?r(a,n,t):e.isPlainObject(r)&&r.hasOwnProperty(n)&&e.isFunction(r[n])&&r[n](a,t)},items:i}}}))}))};e.ui.fancytree.registerExtension({name:"contextMenu",version:"@VERSION",contextMenu:{selector:"fancytree-title",menu:{},actions:{}},treeInit:function(e){this._superApply(arguments),t(e.tree,e.options.contextMenu.selector||"fancytree-title",e.options.contextMenu.menu,e.options.contextMenu.actions)}})}(jQuery,document)},SK4B:function(e,n,t){},SiQ7:function(e,n){e.exports=layer},Th2Q:function(e,n,t){},W6K4:function(e,n){e.exports=require},Z4uj:function(e,n,t){var o=t("NVNq");e.exports=function(e){"use strict";var n="",t=(e=e||{}).fullPath,r=o.$each,i=e.paths,a=(e.path,e.index,o.$escape);t="";return n+="\n",r(i,(function(e,o){n+="\n",n+=a(t=t+"/"+e),n+='\n<span class="path-title" data-fullPath="',n+=a(t),n+='">',n+=a(e),n+="</span>\n",o<i.length-1&&(n+='\n<span class="path-separate"></span>\n'),n+="\n"})),n+="\n"}},kOa0:function(e,n,t){},ogQb:function(e,n,t){},uym6:function(e,n){e.exports=monaco},x34a:function(e,n,t){},xV8d:function(e,n,t){var o=t("NVNq");e.exports=function(e){"use strict";e=e||{};var n="",t=o.$each,r=e.openFileArray,i=(e.file,e.index,o.$escape),a=e.currentOpenFileId;return t(r,(function(e,t){n+="\n",e&&(n+='\n<div class="file-title',n+=i(e.id===a?" active":""),n+='" title="',n+=i(e.filePath),n+=i(e.name),n+='" data-id="',n+=i(e.id),n+='">\n  <span class="file-type file-type-',n+=i(e.name.substr(e.name.lastIndexOf(".")+1)),n+='"></span>\n  <span class="file-name">',n+=i(e.name),n+='</span>\n  <span class="file-close',n+=i(e.needSave?" need-save":""),n+='" title="关闭"></span>\n</div>\n'),n+="\n"})),n+="\n"}}},[["2nRM","manifest","vendor"]]]);